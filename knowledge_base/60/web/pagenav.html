<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
*     Copyright (c) 2007 Sun Microsystems, Inc. All rights reserved.
*     Use is subject to license terms.
--> 
<html lang='en'>
<head>
<title>NetBeans IDE 6.0 - Tutorials - Navigating Pages in a Web Application</title>
<!-- BEGIN METADATA -->
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="description" content="Set up navigation among three pages in a web application created in NetBeans IDE 6.0.">
<meta name="date" content="2006-12-06">
<meta name="collection" content="learning">
<meta name="content_type" content="Tutorial">
<meta name="archive" content="false">
<link rel="stylesheet" href="../../../netbeans.css" type="text/css">
<!-- END METADATA -->
</head>
<body>
<!-- BEGIN WRAPPER TABLE, 2 COLUMN, MAIN/RIGHT -->

<a name="top"></a>
<!-- BEGIN VNV3 PAGETITLE, two-level variation -->
<h1>Navigating Pages in a Web Application</h1>
<!-- END VNV3 PAGETITLE, two-level variation -->

<!--  BEGIN VCD4 BYLINE AND TOOLS  -->
<div class="articledate" style="margin-left: 0px;">Contributed by the NetBeans Tutorials Team</div>
<a name="skip2content"></a>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
    <td class="smaller" valign="top"><em>October, 2007</em>&nbsp;[Revision number: V6.0]</td>
    <td width="10">&nbsp;</td>
    <td align="right" valign="bottom">&nbsp;</td>
  </tr>
</table>

<!--  END VCD4 BYLINE AND TOOLS  -->

<!-- BEGIN VCD1 OVERVIEW COMPONENT  -->
<table border="0" cellpadding="4" cellspacing="0" width="100%" >
<tr>
<td>
<p> This tutorial shows how to set up page navigation in NetBeans IDE 6.0. You first create a web application in the IDE that uses simple navigation between two pages. A button on the first page takes you to the second page. You then modify the application so that the application determines at runtime which page displays based on the value returned by a Drop Down List component. You also learn an alternative and more advanced method of dynamic page navigation, which allows the page navigation to occur as soon as a selection is made from the Drop Down List. </p>
</td></tr></table>
<!-- END VCD1 OVERVIEW COMPONENT  -->
<p align="center"><b>Expected duration: <i>20</i> minutes</b></p>
<!-- BEGIN VCD5 ANCHOR LINKS COMPONENT  -->
<table class="full-width" border="0" cellspacing="0" cellpadding="0">
  <tbody>
    <tr>
      <td align="left" valign="top"><h3>Contents</h3>
	  <ul><li><a href="pagenav.html#creatingfirst">Creating the First Page</a></li>
	  <li><a href="pagenav.html#navbetween"> Navigating Between Two Pages</a></li>
	  <li><a href="pagenav.html#addingcomponents">Adding Components to the Second Page</a></li>
	  <li><a href="pagenav.html#dynnav">Adding a Drop Down List for Dynamic Navigation</a></li>
	  <li><a href="pagenav.html#addingthird">Adding the Third Page</a></li>
	  <li><a href="pagenav.html#implpagenav">Implementing Dynamic Page Navigation</a></li>
	  <li><a href="pagenav.html#deployapp">Deploying the Application</a></li>
	  <li><a href="pagenav.html#implementadvanced">Implementing Advanced Dynamic Page Navigation</a></li></ul>
      </td>
 
  </tbody>
</table>
<!-- END VCD5 ANCHOR LINKS COMPONENT  -->
<br>
<p><b>This tutorial works with the following technologies and resources:</b></p>

<table border="1" cellpadding="1">
  <tbody>
  <tr>
    <td valign="top">JavaServer Faces Components/<br>
      Java EE Platform</td>
    <td valign="top"><img src="../../../images/articles/60/web/check.png" alt="works with" height="15" hspace="3" width="14">1.2 with Java EE 5*<br>
      <img src="../../../images/articles/60/web/check.png" alt="works with" height="15" hspace="3" width="14">1.1 with J2EE 1.4 
  </td></tr>
  <tr>
    <td valign="top">Travel Database</td>
    <td colspan="4" valign="top"><img src="../../../images/articles/60/web/spacer.png" alt="not required" height="15" hspace="3" width="14">Not required</td>
  </tr>
 
</tbody></table>
<p>* In order to take advantage of NetBeans IDE 6.0's Java EE 5 capabilities, use an application server that is fully compliant with the Java EE 5 specification such as the Sun Java Application Server 9/GlassFish.</p>
<p>This tutorial has been tailored for use with the GlassFish v2 Application Server. If you are using a different server, consult the <a href="../../../community/releases/60/relnotes.html">Release Notes</a> and <a href="http://wiki.netbeans.org/wiki/view/NetBeansUserFAQ" target="_blank">FAQs</a> for known problems and workarounds. 
For detailed information about the supported servers and Java EE platform, see the <a href="../../../community/releases/60/relnotes.html">Release Notes</a>.</p>
<!-- END RESOURCE MATRIX -->

<h2><a name="creatingfirst"></a>Creating the First Page</h2>
<p>In the first part of this tutorial, you create a web application with two pages and navigate between two pages using a button. Later, you add a Drop Down List component that enables the user to choose a destination page at run time. </p>
<div>First, create a page that contains a Static Text component and a Button component.</div>
<ol>
  <li>
    <p>Create a new  web application project and named <code>NavigationExample</code> that uses the GlassFish V2 Application Server and the Visual Web JavaServer Faces framework.</p>
    <p>Your new project appears with the initial page displayed in the Visual Designer. The following figure shows the page that you create in the steps that follow: </p>
    <!-- BEGIN FIGURE COMPONENT -->
    <table border="0" cellpadding="2" cellspacing="0" width="490">
      <tbody>
        <tr>
          <td class="grey3" align="center"><img src="../../../images/articles/60/web/pagenav/firstpage.png" alt="Page 1 Design" width="480" height="227" >
            <b>Figure 1</b>: Page 1 Design </td>
        </tr>
      </tbody>
    </table>
    <!-- END FIGURE COMPONENT -->
  </li>
  <li>From the Basic section of the Palette, drag a Static Text component and drop it on the page. Change the component's <code>text</code> property to <code>Page One</code> by typing directly over the default text on the component. </li>
  <li>Drag a Button component from the Palette, drop it on the page, and change its <code>text</code> property to <code>Go</code>.<ul class="note">
    <li><b>Important Note:</b> There is a known issue that affects the width of the JSF 1.2 Button component in IE7. The workaround is to place the Button component in a layout component (Grid Panel, Group Panel, or Layout Panel). Resizing the layout component automatically resizes the Button component.   </li>
  </uL></li>
</ol>

  <h2><a name="navbetween"></a>Navigating Between Two Pages</h2>
  <div>Next, add another page to the application and specify the navigation between the first and second pages by creating a link, or page connector.</div>
  <ol>
    <li>
      <p>Right-click an empty space in the Visual Editor's editing area and choose Page Navigation from the pop-up menu.</p>
      The Page Flow Editor displays an icon for <code>Page1.jsp</code> <img src="../../../images/articles/60/web/pagenav/page1-icon.png" align="absmiddle">, which represents the page you created in the previous section. Note that this icon has four features:<br>
      <ol type="a">
        <li>The badge indicates what kind of page is represented by the icon. The green arrow indicates that the page is the project's main page. </li>
        <li>The name of the file represented by the icon distinguishes the pages in the product.</li>
        <li>The plus sign expands the icon to display the components on the page. </li>
        <li>The connector port is used to draw navigation lines between pages. </li>
      </ol></li>
    <li>
      <p>Create a new JSP page as follows:</p>
    <ol type="a"><li>Right-click in the editing area and choose New File.</li>
      <li>In the New File dialog, select Java Server Faces under Categories and Visual Web JSF Page under File Types, and click Next. </li>
      <li>
        <p>Accept the default name, Page2 and click Finish. </p>
		A <code>Page2.jsp</code> icon appears in the Page Flow Editor as shown in Figure 2, and a <code>Page2.jsp</code> node is added in the Projects window under the NavigationExample &gt; Web Pages node. 
      </li>
    </ol> </li>
    
    <li>If the Page Flow Editor does not display after Page2.jsp is created, select the <tt>faces-config.xml</tt> tab to display the Editor. </li>
    <li>Click the plus sign on the <code>Page1.jsp</code> icon to enlarge it so you can see the <code>button1</code> icon. </li>
    <li> Click  the <code>button1</code> icon and drag a line to the <code>Page2.jsp</code> icon. A connector appears that is anchored in the first page and ends in the second page. By default, the newly created connector is named <code>case1</code>. </li>
    <li>
      <p>Double-click the connector name and change the name from <code>case1</code> to <code>Page 2</code>. </p>
      <p> The following figure shows the Page Flow Editor with the connector between the two pages. </p>
      <!-- BEGIN FIGURE COMPONENT -->
      <table border="0" cellpadding="2" cellspacing="0" width="461">
        <tbody>
      <tr></tr>
	      <tr>
            <td class="grey3" align="center"><span class="grey3"><img src="../../../images/articles/60/web/pagenav/simplepagenav-connect-ca.png" alt="Page Navigation Editor" width="451" height="306"></span><br>

              <b>Figure 2</b>: Page Flow Editor</td>
          </tr>
        </tbody>
      </table>
      
      <!-- END FIGURE COMPONENT -->
    </li>
    <li>
      <p>Click XML in the editing toolbar to see the code that was generated during the last two steps. 
	  The navigation-rule in bold below is added below the managed bean code, represented by an ellipsis (...).</p>
      <!-- BEGIN CODE SAMPLE COMPONENT  -->
      <table class="examplecode" border="1" bordercolor="#e7e7e7" cellpadding="2" cellspacing="0">
        <tbody>
          <tr class="bg-white">
            <td><b>Code Sample 1: Generated Code</b></td>
          </tr>
          <tr>
            <td><pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;faces-config version="1.2" xmlns="http://java.sun.com/xml/ns/javaee" <br>   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation="http://java.sun.com/xml/ns/javaee 
   http://java.sun.com/xml/ns/javaee/web-facesconfig_1_2.xsd"&gt;
...
    <b>&lt;navigation-rule&gt;
        &lt;from-view-id&gt;/Page1.jsp&lt;/from-view-id&gt;
        &lt;navigation-case&gt;
            &lt;from-outcome&gt;Page 2&lt;/from-outcome&gt;
            &lt;to-view-id&gt;/Page2.jsp&lt;/to-view-id&gt;
        &lt;/navigation-case&gt;
    &lt;/navigation-rule&gt;</b>
&lt;/faces-config&gt;</pre></td>
          </tr>
        </tbody>
      </table>
      <!-- END CODE SAMPLE COMPONENT  -->
      <br>
      The code that is added inside the <code>faces-config</code> tags specifies the single navigation rule for this web application. Each navigation rule specifies one origin page and one or more destination pages.</li>
  </ol>
  <h2><a name="addingcomponents"></a>Adding Components to the Second Page</h2>
  <div>Now add a label to the second page to distinguish the page visually from the first page, then run the application.</div>
  <ol>
    <li>Click Page Flow in the editing toolbar.</li>
    <li>
      <p>Double-click the <code>Page2.jsp</code> icon.</p>
      The page opens in the Visual Designer. </li>
    <li>Place a Static Text component on the page and change the <code>text</code> property to <code>Page Two</code>, as shown in the following figure.
      <!-- BEGIN FIGURE COMPONENT -->
      <br>
      <br>
      <table border="0" cellpadding="2" cellspacing="0" width="458">
        <tbody>
          <tr>
            <td class="grey3" align="center"><img src="../../../images/articles/60/web/pagenav/simplepage2nav.png" alt="Layout of Page 2" height="302" width="448"><b>Figure 3</b>: Layout of Page 2</td>
          </tr>
        </tbody>
      </table>
      <!-- END FIGURE COMPONENT -->
    </li>
    <li>Deploy the application by pressing F6. </li>
    <li>
      <p> After the web application is deployed, Page One opens in your browser as shown in the following figure:</p>
      <!-- BEGIN FIGURE COMPONENT -->
      <table border="0" cellpadding="2" cellspacing="0" width="423">
        <tbody>
          <tr>
            <td class="grey3" align="center"><img src="../../../images/articles/60/web/pagenav/simplenavwebapp.png"  width="413" height="330" alt="Simple Navigation Web Application">
              <b>Figure 4</b>: Simple Navigation Web Application</td>
          </tr>
        </tbody>
      </table>
      <!-- END FIGURE COMPONENT -->
    </li>
    <li>
      <p>Click the Go button, which navigates you from the first page to the second page.</p>
    </li>
  </ol>
  <p>In this section, you created two pages and established simple navigation from one to the other. In the next section, you establish navigation based on selections from a Drop Down List component. 
  </p>
  <h2><a name="dynnav"></a>Adding a Drop Down List for Dynamic Navigation</h2>
  <p>Now you'll learn about dynamic page navigation. You add a Drop Down List component to the first page of the application. The Drop Down List enables the user to choose a destination page at run time. Later, you add a third page to the application so that the Drop Down list contains two choices of destination.</p>
  <p>The following figure shows the modifications you make to Page 1 in the steps that follow: </p>
  <table border="0" cellpadding="2" cellspacing="0" width="549">
    <tbody>
      <tr>
        <td class="grey3" align="center"><img src="../../../images/articles/60/web/pagenav/dynamicnav.png" height="418" width="539" alt="Layout of the Modified First Page">
          <b>Figure 5</b>: Layout of the Modified First Page</td>
      </tr>
    </tbody>
  </table>
  <ol>
    <li>Open <code>Page1.jsp</code> in the Visual Designer. </li>
    <li>Place a Drop Down List component under the Static Text component.</li>
    <li>Right-click the Drop Down List and choose Configure Default Options.</li>
    <li><p>In the dialog box labeled Options Customizer - dropDown1, replace the values of each of the default items with the values shown in the following figure. Click on each table cell to edit the value, and press Enter after editing each field to accept the change.
      </p>
      <table border="0" cellpadding="2" cellspacing="0" width="541">
        <tbody>
          <tr>
            <td class="grey3" align="center"><img src="../../../images/articles/60/web/pagenav/drop-down-options-dialog.png" height="239" width="531" alt="The Options Customizer Dialog Box">
              <b>Figure 6</b>: The Options Customizer Dialog Box</td>
          </tr>
        </tbody>
      </table>
    </li>
    <li> Click OK to save all the changes.</li>
  </ol>
  <h2><a name="addingthird"></a>Adding the Third Page</h2>
  <p> Next you create a third page to which the first page can navigate.
    <!-- END FIGURE COMPONENT -->
  </p>
  <ol>
    <li> In the Projects window, right-click the NavigationExample &gt; Web Pages node and choose New &gt; Visual Web JSF Page. In the New Visual Web JSF Page wizard, click Finish. The IDE creates <code>Page3.jsp</code> and displays it.</li>
    <li>Drag a Static Text component from the Palette window and drop it on the page. Set the text of the component to <code>Page Three</code>.</li>
  </ol>
  <h2><a name="implpagenav"></a>Implementing Dynamic Page Navigation</h2>
  <div>In this section, you enable dynamic page navigation. With dynamic page navigation, the application determines at runtime which page is displayed when the user clicks the Go button on the first page.</div>
  <ol>
    <li>Open the Page Flow Editor.</li>
    <li>Click the <code>Page1.jsp</code> icon to show its contents and drag a connector line from the button's connector port to <code>Page3.jsp</code> icon.</li>
    <li> Change the name of the connector from <code>case1</code> to <code>Page 3</code>.</li>
    <li>Double-click the <code>Page1.jsp</code> icon and click Design in the Editing toolbar to show the layout of Page 1.</li>
    <li> Double-click the Go button component to display its source code for the action handler method in the Java Editor.</li>
    <li>
      <p>Replace the <code>return</code> statement in the method with the following code shown in bold:</p>
      <!-- BEGIN CODE SAMPLE COMPONENT  -->
      <table class="examplecode" border="1" bordercolor="#e7e7e7" cellpadding="2" cellspacing="0">
        <tbody>
          <tr class="bg-white">
            <td><b>Code Sample 2: Return Statement</b></td>
          </tr>
          <tr>
            <td><pre>public String button1_action() {
   <span style="font-weight: bold;">  return (String) dropDown1.getValue();</span>
}</pre></td>
          </tr>
        </tbody>
      </table>
      <!-- END CODE SAMPLE COMPONENT  -->
    </li>
  </ol>
  <h2><a name="deployapp"></a>Deploying the Application</h2>
  <div> Test the navigation between the pages. </div>
  <ol>
    <li> Deploy the application by pressing F6. </li>
    <li> On the first page, select Page 2 from the drop-down list and click Go to take you to the second page. </li>
    <li> Click your browser's Back button to return to the first page from Page 2.</li>
    <li> Now select Page 3 from the drop-down list and click Go to take you to the third page. </li>
  </ol>
  <h2><a name="implementadvanced"></a>Implementing Advanced Dynamic Page Navigation</h2>
  <div> In the previous section, dynamic page navigation is handled in a straightforward way. The user selects the page to which to navigate in the drop-down list and clicks the Go button. If you want the page change to occur as soon as the drop-down list value changes, use the following steps to modify the project you created in the previous sections. </div>
  <ol>
    <li> Click the Page1 tab and click Design in the editing toolbar to switch to the Visual Designer. </li>
    <li> Right-click the Go button and select Delete. </li>
    <li> Double-click the Drop Down List component to view the <code>Page1</code> class code in the Java Editor. </li>
    <li>
      <p>Add the following code in bold to the <code>dropDown1_processValueChange()</code> handler method. The first two lines of the code retrieve an object reference to your application. From the application object, you can get an instance of the Navigation Handler. Calling the <code>handleNavigation()</code> method on this object specifies the value that is retrieved from the Drop Down List component, which specifies the page to which to navigate.</p>
      <!-- BEGIN CODE SAMPLE COMPONENT  -->
      <table class="examplecode" border="1" bordercolor="#e7e7e7" cellpadding="2" cellspacing="0" >
        <tbody>
          <tr class="bg-white">
            <td><b>Code Sample 3: Navigation Handler Method</b></td>
          </tr>
          <tr>
            <td><pre>public void dropDown1_processValueChange(ValueChangeEvent event) {
    <span style="font-weight: bold;">Application application = getApplication();
    NavigationHandler navigator = application.getNavigationHandler();
    FacesContext facesContext = getFacesContext();
    navigator.handleNavigation(<span style="font-weight: bold;">facesContext,</span>
        null,(String) dropDown1.getValue());</span>

}  </pre></td>
          </tr>
        </tbody>
      </table>
      <!-- END CODE SAMPLE COMPONENT  -->
<br>
      Note that red squiggly lines appear to indicate that the <code>Application</code>, <code>NavigationHandler</code>, and <code>FacesContext</code> classes cannot be found. You will import these classes in the next step.</li>
    <li>
      <p>Right-click anywhere in the Source Editor and choose Fix Imports to automatically add the following import statements near the top of the source file:</p>
      <!-- BEGIN CODE SAMPLE COMPONENT  -->
      <table class="examplecode" border="1" bordercolor="#e7e7e7" cellpadding="2" cellspacing="0">
        <tbody>
          <tr class="bg-white">
            <td><b>Code Sample 4: Import Statements for Navigation Handler Method</b></td>
          </tr>
          <tr>
            <td><pre><span style="font-weight: bold;">import javax.faces.application.Application;
import javax.faces.application.NavigationHandler;
import javax.faces.context.FacesContext;</span>
</pre></td>
          </tr>
        </tbody>
      </table>
      <!-- END CODE SAMPLE COMPONENT  -->
    </li>
    <li> Click Design in the editing toolbar to view Page1 in the Visual Designer. </li>
    <li>Right-click the Drop Down List component and select Auto-Submit on Change to indicate that the item selected will be automatically submitted upon selection. </li>
    <li> Deploy and run the application. </li>
    <li> Choose the Page 2 item in the drop-down list to navigate from the first page to the second page. Click the Back button to return to the first page. </li>
    <li> Choose the Page 3 item in the drop-down list to navigate from the first page to the third page. <br>
    </li>
  </ol>
  
        <h2><a name="large"></a>Doing More: Working With a Large Number of Pages</h2>
		<div>The scenario described in this tutorial works for a relatively small number of pages, but many real-world applications require navigation through dozens of pages. To establish this kind of navigation:</div>
		<ol><li> In the Page Navigation editor, click the XML button in the editing toolbar. </li>
		<li>
		  <p> Add a navigation rule like the the first entry in the following XML. Set the <tt>&lt;from-view-id&gt;</tt> to <tt>/*</tt>, 
		set the <tt>&lt;from-outcome&gt;</tt> to some identifying string, and set the <tt>&lt;to-view-id&gt;</tt> to the destination page.</p>
		 <!-- BEGIN CODE SAMPLE COMPONENT  -->
      <table class="examplecode" border="1" bordercolor="#e7e7e7" cellpadding="2" cellspacing="0">
        <tbody>
          <tr class="bg-white">
            <td><b>Code Sample 5: Page Navigation XML for Applications With a Large Number of Pages</b></td>
          </tr>
          <tr>
            <td><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br>&lt;faces-config version=&quot;1.2&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; 
xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee 
http://java.sun.com/xml/ns/javaee/web-facesconfig_1_2.xsd&quot;&gt;<br>    &lt;navigation-rule&gt;<br>        &lt;from-view-id&gt;/*&lt;/from-view-id&gt;<br>        &lt;navigation-case&gt;<br>            &lt;from-outcome&gt;login&lt;/from-outcome&gt;<br>            &lt;to-view-id&gt;/Page3.jsp&lt;/to-view-id&gt;<br>        &lt;/navigation-case&gt;<br>    &lt;/navigation-rule&gt;<br>    &lt;navigation-rule&gt;<br>        &lt;from-view-id&gt;/Page1.jsp&lt;/from-view-id&gt;<br>        &lt;navigation-case&gt;<br>            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;<br>            &lt;to-view-id&gt;/Page2.jsp&lt;/to-view-id&gt;<br>        &lt;/navigation-case&gt;<br>    &lt;/navigation-rule&gt;<br>&lt;/faces-config&gt; 
</pre></td>
          </tr>
        </tbody>
      </table>
      <!-- END CODE SAMPLE COMPONENT  --><br>
	  <p>When you return to the Page Navigation editor, the editor will show errors but you can ignore these.</p>
		 </li>
		 <li>In all action handling methods for action components that you want to send to the page, have the methods return the <tt>from-outcome</tt> (in this case <tt>"login"</tt>), as shown below:
   		   <pre>public String button1_action() {<br>        return &quot;login&quot;;<br>    }</pre>
		 </li>
		</ol>
<h2><a name="summary"></a>Summary</h2>
<div>The typical workflow for implementing page navigation is as follows:</div>
<ol>
  <li>Create the pages.</li>
  <li>Place components that support navigation, such as buttons and drop down lists, on the page.</li>
  <li>Using the Page Flow Editor, draw connectors between components and pages.</li>
  <li>Implement more advanced navigation using the <code>dropDown1_processValueChange()</code> handler method.<br>
  </li>
</ol>
<br>
<p><b class="dkgrey">See Also</b>:</p>
<ul>
  <li><a href="intro.html">Getting Started With NetBeans Visual Web JSF Application Development</a></li>
  <li><a href="databoundcomponents.html">Using Databound Components to Access a Database</a>
</li>
<li><a href="pagefragments.html">Using Page Fragments</a></li>
</ul>
<br>
<hr class="light">
<br>
<div class="date-stamp" align="right">This page was last modified:&nbsp; October, 2007</div>

<table border="0" cellpadding="10" cellspacing="0" class="full-width">
<tr>
<td><br>
<div class="feedback-box">
<a href="mailto:nbdocs-feedback-dvd@usersguide.netbeans.org">Send Us Your Feedback</a> </div>
<br style="clear:both;">
</td></tr></table>

</body>
</html>
